<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conceptos y Hallazgos - Tesis Doctoral</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --concept-color: #9b59b6;
            --instrument-color: #1abc9c;
            --methodology-color: #e67e22;
            --finding-color: #e74c3c;
            --intervention-color: #3498db;
            --approach-color: #f1c40f;
            --context-color: #7f8c8d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 30px 0;
            text-align: center;
            border-radius: 0 0 15px 15px;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        .search-container {
            margin: 20px 0;
            position: relative;
        }
        
        #conceptSearch {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        #conceptSearch:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
        }
        
        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #7f8c8d;
        }
        
        .categories-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .category-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 6px solid var(--secondary-color);
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .category-card:hover {
            transform: translateY(-7px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }
        
        .category-card.concept {
            border-left-color: var(--concept-color);
        }
        
        .category-card.instrument {
            border-left-color: var(--instrument-color);
        }
        
        .category-card.methodology {
            border-left-color: var(--methodology-color);
        }
        
        .category-card.finding {
            border-left-color: var(--finding-color);
        }
        
        .category-card.intervention {
            border-left-color: var(--intervention-color);
        }
        
        .category-card.approach {
            border-left-color: var(--approach-color);
        }
        
        .category-card.context {
            border-left-color: var(--context-color);
        }
        
        .category-card h3 {
            color: var(--primary-color);
            margin-bottom: 18px;
            font-size: 1.4rem;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .concepts-list {
            list-style-type: none;
            flex-grow: 1;
        }
        
        .concepts-list li {
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
            border-radius: 6px;
            padding-left: 10px;
            cursor: pointer;
            position: relative;
        }
        
        .concepts-list li:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        .concepts-list li:active {
            transform: scale(0.98);
        }
        
        .concepts-list li:last-child {
            border-bottom: none;
        }
        
        .concept-badge {
            display: inline-block;
            background-color: var(--light-color);
            color: var(--dark-color);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-right: 12px;
            font-weight: 600;
            min-width: 100px;
            text-align: center;
        }
        
        .concept-badge.concept {
            background-color: #e8daef;
            color: #6c3483;
        }
        
        .concept-badge.instrument {
            background-color: #d1f2eb;
            color: #1a7a5c;
        }
        
        .concept-badge.methodology {
            background-color: #fdebd0;
            color: #b06c0f;
        }
        
        .concept-badge.finding {
            background-color: #fadbd8;
            color: #a93226;
        }
        
        .concept-badge.intervention {
            background-color: #d6eaf8;
            color: #21618c;
        }
        
        .concept-badge.approach {
            background-color: #fef9e7;
            color: #9a7d0a;
        }
        
        .concept-badge.context {
            background-color: #e5e7e9;
            color: #515a5a;
        }
        
        /* Estilos del Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .modal-content {
            background-color: white;
            margin: 40px auto;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: modalAppear 0.3s ease-out;
            overflow: hidden;
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 25px 30px;
            position: relative;
        }
        
        .modal-header h2 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .modal-subtitle {
            font-style: italic;
            opacity: 0.9;
            margin-top: 8px;
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .modal-concept-code {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
            margin-top: 8px;
            margin-right: 10px;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 2rem;
            cursor: pointer;
            color: white;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .close-modal:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .modal-body {
            padding: 30px;
        }
        
        .info-section {
            margin-bottom: 30px;
        }
        
        .info-section:last-child {
            margin-bottom: 0;
        }
        
        .info-section h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.3rem;
            padding-bottom: 8px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .info-section p {
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .application-context {
            background-color: #e8f4fc;
            border-left: 4px solid var(--secondary-color);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        
        .related-concepts-container {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 10px;
        }
        .related-link {
            background-color: #e8f4fc;
            color: var(--secondary-color);
            padding: 8px 16px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            border: 2px solid #d6eaf8;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .related-link:hover {
            background-color: var(--secondary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }

        .modal-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .nav-btn {
            padding: 10px 20px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover:not(:disabled) {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        
        .modal-loading {
            display: none;
            text-align: center;
            padding: 40px;
            color: var(--secondary-color);
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
            display: none;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        @media (max-width: 768px) {
            .categories-container {
                grid-template-columns: 1fr;
            }
            h1 { font-size: 1.8rem; }
            .modal-content { width: 95%; margin: 20px auto; }
            .modal-header, .modal-body { padding: 20px; }
            .modal-navigation { flex-direction: column; gap: 10px; }
            .nav-btn { width: 100%; }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Conceptos y Hallazgos de Investigaci√≥n</h1>
            <p class="subtitle">Haz clic en cualquier recuadro para obtener una explicaci√≥n detallada de cada concepto, metodolog√≠a y hallazgo clave de nuestro estudio.</p>
        </div>
    </header>
    
    <div class="container">
        <main>
            <h2 id="categories-heading" class="sr-only">Categor√≠as de Conceptos</h2>
            
            <div class="search-container">
                <input type="text" id="conceptSearch" placeholder="Buscar conceptos, metodolog√≠as o hallazgos...">
                <span class="search-icon">üîç</span>
            </div>
            
            <div class="no-results" id="noResults">
                <h3>No se encontraron conceptos</h3>
                <p>Intenta con otros t√©rminos de b√∫squeda</p>
            </div>
            
            <div class="categories-container" id="categoriesContainer">
                <!-- Las tarjetas de categor√≠as se generar√°n din√°micamente con JavaScript -->
            </div>
        </main>
    </div>

    <!-- Modal para mostrar detalles de conceptos -->
    <div class="modal" id="conceptModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalConceptTitle">T√≠tulo del concepto</h2>
                <div id="modalConceptSubtitle" class="modal-subtitle"></div>
                <div id="modalHeaderBadges"></div>
                <button class="close-modal" id="closeModal" aria-label="Cerrar ventana">&times;</button>
            </div>
            <div class="modal-body" id="modalConceptBody">
                <!-- El contenido del modal se cargar√° aqu√≠ -->
            </div>
        </div>
    </div>

    <div class="modal-loading" id="modalLoading">
        <p>Cargando informaci√≥n...</p>
    </div>

    <script>
        // Funci√≥n para procesar texto y convertir **texto** a negritas y *texto* a cursivas
        function processTextWithFormatting(text) {
            return text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                       .replace(/\*(.*?)\*/g, '<em>$1</em>');
        }

        // Datos de conceptos y hallazgos
        const conceptData = {
            'epa': { id: 'epa', title: 'EPA', subtitle: 'Efecto de Preservaci√≥n Actitudinal', category: 'concepto' },
            'eca': { id: 'eca', title: 'ECA', subtitle: 'Escala de Conciencia Ambiental', category: 'instrumento' },
            'eca_original': { id: 'eca_original', title: 'ECA - Estudio Original', subtitle: 'Validaci√≥n Psicom√©trica Original', category: 'instrumento' },
            'quasi_experimental': { id: 'quasi_experimental', title: 'Dise√±o Cuasiexperimental', subtitle: 'Pretest-Postest con Grupo Control', category: 'metodolog√≠a' },
            'ecological_awareness': { id: 'ecological_awareness', title: 'Conciencia Ecol√≥gica', subtitle: 'Constructo Multidimensional', category: 'concepto' },
            'attitude_behavior_gap': { id: 'attitude_behavior_gap', title: 'Brecha Actitud-Conducta', subtitle: 'Disociaci√≥n entre saber/hacer', category: 'hallazgo' },
            'experimental_group': { id: 'experimental_group', title: 'Grupo Experimental', subtitle: 'GE - Intervenci√≥n Curricular', category: 'metodolog√≠a' },
            'control_group': { id: 'control_group', title: 'Grupo Control', subtitle: 'GC - Condici√≥n Natural', category: 'metodolog√≠a' },
            'curricular_integration': { id: 'curricular_integration', title: 'Integraci√≥n Curricular', subtitle: 'Inserci√≥n de contenidos ambientales', category: 'intervenci√≥n' },
            'environmental_education': { id: 'environmental_education', title: 'Educaci√≥n Ambiental', subtitle: 'Enfoque pedag√≥gico transformador', category: 'enfoque' },
            'semirural_context': { id: 'semirural_context', title: 'Contexto Semirural', subtitle: 'Valle del Cauca - Instituci√≥n oficial', category: 'contexto' },
            'llave_rota': { id: 'llave_rota', title: 'La Met√°fora de la Llave Rota', subtitle: 'Una analog√≠a para la brecha actitud-conducta', category: 'concepto' },
            'falla_psicometrica': { id: 'falla_psicometrica', title: 'De "Falla Psicom√©trica" a Hallazgo Metodol√≥gico', subtitle: 'El desaf√≠o de medir el conocimiento ambiental', category: 'metodolog√≠a' },
            'barreras_estructurales': { id: 'barreras_estructurales', title: 'M√°s All√° del Aula: Barreras Estructurales', subtitle: 'Por qu√© las buenas intenciones no siempre se convierten en acciones', category: 'hallazgo' },
            'modelo_pedagogico': { id: 'modelo_pedagogico', title: 'El Motor del Cambio: Nuestro Modelo Pedag√≥gico', subtitle: 'La sinergia entre constructivismo y aprendizaje experiencial', category: 'metodolog√≠a' }
        };

        // Contenido detallado de cada concepto
        const conceptContent = {
            'epa': processTextWithFormatting(`### ¬øQu√© es?\nEl **Efecto de Preservaci√≥n Actitudinal (EPA)** es un concepto que identificamos emp√≠ricamente en nuestra investigaci√≥n, donde la intervenci√≥n educativa logr√≥ mantener y consolidar actitudes proambientales preexistentes en el grupo experimental, mientras el grupo control mostraba un declive actitudinal en el mismo periodo.\n\n### Evidencia en Nuestro Estudio\nEncontramos un tama√±o del efecto grande (r=0.59) en la comparaci√≥n intergrupo de la dimensi√≥n afectiva, donde el GE mantuvo sus altos niveles actitudinales (M=24.35) mientras el GC descendi√≥ significativamente (M=20.15), evidenciando este efecto de preservaci√≥n.\n\n### Implicaciones Educativas\nEl EPA sugiere que intervenciones ambientales sostenidas pueden funcionar como "vacunas pedag√≥gicas" contra la apat√≠a ambiental en contextos escolares, particularmente importante en nuestra muestra semirrural del Valle del Cauca.`),
            'eca': processTextWithFormatting(`### ¬øQu√© es?\nLa **Escala de Conciencia Ambiental (ECA)** es nuestro instrumento de medici√≥n principal, adaptado de Torres Soto y otros (2022) y validado para evaluar las tres dimensiones del constructo de conciencia ecol√≥gica en estudiantes de educaci√≥n b√°sica secundaria.\n\n### Estructura y Dimensiones\nLa ECA consta de 21 √≠tems distribuidos en:\n- **Dimensi√≥n Cognitiva (7 √≠tems):** Conocimiento conceptual ambiental\n- **Dimensi√≥n Afectiva (7 √≠tems):** Actitudes y valores proambientales\n- **Dimensi√≥n Conductual (7 √≠tems):** Pr√°cticas ecol√≥gicas autorreportadas`),
            'eca_original': processTextWithFormatting(`### Estudio Original de Validaci√≥n\nLa Escala de Conciencia Ambiental (ECA) fue desarrollada y validada originalmente por Torres Soto et al. (2022) en un estudio psicom√©trico riguroso realizado en Sonora, M√©xico.\n\n### Hallazgos Principales del Estudio Original\n**Fiabilidad muy alta:** La escala original demostr√≥ una excelente consistencia interna, obteniendo un coeficiente Alfa de Cronbach global de **0.93**.\n\n**Estructura Unifactorial:** A diferencia de nuestra adaptaci√≥n (que la dividi√≥ en tres dimensiones), el An√°lisis Factorial Exploratorio del estudio original concluy√≥ que la escala med√≠a un √∫nico constructo general de "conciencia ambiental".`),
            'quasi_experimental': processTextWithFormatting(`### ¬øQu√© es?\nNuestro **dise√±o cuasiexperimental pretest-postest con grupo control no equivalente** es una metodolog√≠a que nos permiti√≥ evaluar el impacto de la integraci√≥n curricular ambiental en un contexto escolar real, donde la asignaci√≥n aleatoria estricta no era viable.\n\n### Implementaci√≥n en el Estudio\n- **Grupo Experimental (n=63):** Recibi√≥ la intervenci√≥n de 8 semanas\n- **Grupo Control (n=26):** Continu√≥ con el curr√≠culo regular\n- **Mediciones:** ECA aplicada en pretest y postest a ambos grupos`),
            'ecological_awareness': processTextWithFormatting(`### ¬øQu√© es?\nLa **conciencia ecol√≥gica** es nuestro constructo central de investigaci√≥n, conceptualizado como un fen√≥meno multidimensional que integra componentes cognitivos, afectivos y conductuales en relaci√≥n con el medio ambiente.\n\n### Operacionalizaci√≥n en Nuestro Estudio\nMedimos la conciencia ecol√≥gica a trav√©s de sus tres dimensiones en la ECA, encontrando que mientras las dimensiones cognitiva y afectiva mostraron mejoras significativas, la conductual present√≥ avances m√°s modestos, reflejando la complejidad del constructo.`),
            'attitude_behavior_gap': processTextWithFormatting(`### ¬øQu√© es?\nLa **brecha actitud-conducta** es un fen√≥meno documentado en nuestra investigaci√≥n donde encontramos disociaci√≥n entre las disposiciones afectivas favorables hacia el ambiente y la implementaci√≥n consistente de pr√°cticas ecol√≥gicas.\n\n### Evidencia Emp√≠rica en Nuestro Estudio\nMientras la dimensi√≥n afectiva mostr√≥ un efecto grande (r=0.59) de la intervenci√≥n, la dimensi√≥n conductual present√≥ un efecto peque√±o-moderado (r=0.27), confirmando la persistencia de esta brecha incluso despu√©s de la intervenci√≥n educativa.`),
            'experimental_group': processTextWithFormatting(`### ¬øQu√© es?\nEl **Grupo Experimental (GE)** fue el conjunto de estudiantes (n=63) que recibi√≥ la intervenci√≥n pedag√≥gica estructurada de integraci√≥n curricular de contenidos ambientales durante 8 semanas. Sirvi√≥ como grupo de tratamiento para evaluar la efectividad de la intervenci√≥n.`),
            'control_group': processTextWithFormatting(`### ¬øQu√© es?\nEl **Grupo Control (GC)** fue el conjunto de estudiantes (n=26) que no recibi√≥ la intervenci√≥n experimental y continu√≥ con el curr√≠culo regular. Su funci√≥n metodol√≥gica fue crucial para establecer una l√≠nea base de comparaci√≥n y controlar efectos externos.`),
            'curricular_integration': processTextWithFormatting(`### ¬øQu√© es?\nLa **integraci√≥n curricular** es nuestra estrategia de intervenci√≥n, que consisti√≥ en insertar sistem√°ticamente contenidos y actividades ambientales dentro del curr√≠culo formal de Ciencias Naturales, en lugar de abordarlos como temas aislados. La intervenci√≥n dur√≥ 8 semanas bajo el t√≠tulo "Nuestro ecosistema, nuestra responsabilidad".`),
            'environmental_education': processTextWithFormatting(`### ¬øQu√© es?\nLa **Educaci√≥n Ambiental (EA)** en nuestro estudio es entendida como un proceso pedag√≥gico transformador que busca desarrollar conocimientos, valores y capacidades para la acci√≥n ambiental responsable. Implementamos una EA cr√≠tica y participativa, enfatizando la acci√≥n colectiva y la ciudadan√≠a ambiental.`),
            'semirural_context': processTextWithFormatting(`### ¬øQu√© es?\nEl **contexto semirrural** se refiere a las caracter√≠sticas de la instituci√≥n educativa y comunidad donde realizamos la investigaci√≥n (Ginebra, Valle del Cauca, Colombia), una zona de transici√≥n urbano-rural. Este contexto influy√≥ en nuestros hallazgos, particularmente en la brecha actitud-conducta, donde la falta de infraestructura de apoyo limit√≥ la traducci√≥n de intenciones en acciones.`),
            'llave_rota': processTextWithFormatting(`### ¬øDe d√≥nde surge?\nEsta met√°fora, que atraviesa nuestra tesis, nace de una imagen cotidiana: **una llave de agua que gotea en el ba√±o de una escuela**. Simboliza un problema que es visible para todos, cuyo desperdicio es innegable, pero que a menudo se normaliza y se ignora. La llave que gotea es la manifestaci√≥n f√≠sica de la indiferencia.\n\n### ¬øQu√© representa en el estudio?\nLa analog√≠a sirve como un veh√≠culo para entender el n√∫cleo de nuestro problema de investigaci√≥n: la **brecha actitud-conducta**.\n- **La conciencia del goteo:** Representa la **dimensi√≥n afectiva**. Los estudiantes saben que el desperdicio est√° mal y sienten preocupaci√≥n por el medio ambiente.\n- **La inacci√≥n para repararla:** Representa la **dimensi√≥n conductual**. A pesar de saber y sentir que est√° mal, la acci√≥n de reparar la llave no siempre ocurre.\n\n### La Soluci√≥n No Es Solo T√©cnica\nNuestra investigaci√≥n demuestra que el verdadero desaf√≠o es cultural y pedag√≥gico. Una llave reparada volver√° a gotear si no existe una comunidad que valore el recurso. Por ello, la soluci√≥n no radica en la ingenier√≠a del grifo, sino en la **"pedagog√≠a de la mirada"**: ense√±ar a ver el goteo no como algo normal, sino como una interpelaci√≥n a nuestra responsabilidad.`),
            'falla_psicometrica': processTextWithFormatting(`### ¬øCu√°l fue el hallazgo?\nUno de los descubrimientos m√°s importantes de nuestro estudio fue de naturaleza metodol√≥gica. Encontramos que la subescala dise√±ada para medir el **conocimiento ambiental** (la dimensi√≥n cognitiva) tuvo una fiabilidad inaceptablemente baja en nuestra muestra (Alfa de Cronbach = .387).\n\n### ¬øQu√© significa esto en la pr√°ctica?\nUn coeficiente tan bajo indica que la medici√≥n contiene m√°s "ruido" (error aleatorio) que "se√±al" (conocimiento real). Por lo tanto, aunque los an√°lisis mostraron una mejora estad√≠sticamente significativa en esta dimensi√≥n, no podemos confiar en ese resultado. Es muy probable que sea un **espejismo estad√≠stico**. La honestidad intelectual nos obliga a declarar este hallazgo como **no concluyente**.\n\n### ¬øPor qu√© ocurri√≥ esta "falla"?\nEl an√°lisis sugiere una combinaci√≥n de factores, incluyendo la **heterogeneidad del constructo** (el "saber ambiental" no es una cosa √∫nica) y problemas de **adaptaci√≥n cultural** del instrumento, validado originalmente en un contexto diferente y que probablemente no se ajust√≥ a la realidad de los estudiantes en el Valle del Cauca (Colombia).\n\n### De "Falla" a Hallazgo Central\nLejos de invalidar el estudio, este resultado se convierte en una de sus conclusiones m√°s importantes: **medir el conocimiento ambiental de forma v√°lida y fiable es extremadamente complejo**. Es una llamada de atenci√≥n sobre la necesidad cr√≠tica de desarrollar instrumentos de medici√≥n que sean cultural y contextualmente pertinentes.`),
            'barreras_estructurales': processTextWithFormatting(`### ¬øCu√°l fue el hallazgo?\nNuestra investigaci√≥n confirm√≥ la persistencia de la **brecha actitud-conducta**: a pesar de tener actitudes proambientales muy positivas, los estudiantes mostraron una mejora m√°s modesta en sus pr√°cticas ecol√≥gicas diarias. Este hallazgo nos llev√≥ a identificar un factor explicativo clave: la existencia de **barreras estructurales**.\n\n### ¬øQu√© son las Barreras Estructurales?\nSon obst√°culos presentes en el entorno f√≠sico, social o institucional que dificultan o impiden que las personas traduzcan sus valores en acciones. No es una "falta de voluntad" individual, sino un **contexto que no facilita la acci√≥n sostenible**.\n\n### Evidencia en Nuestro Estudio\nIdentificamos barreras concretas como la **falta de infraestructura de reciclaje** en la instituci√≥n y la ausencia de una cultura escolar que reforzara activamente los comportamientos sostenibles.\n\n### Implicaciones del Hallazgo\nLa lecci√≥n es clara: **las intervenciones pedag√≥gicas son necesarias, pero no suficientes**. Para cerrar la brecha actitud-conducta, las escuelas deben evolucionar de ser lugares que *ense√±an sobre* sostenibilidad a ser ecosistemas que *practican y modelan* la sostenibilidad.`),
            'modelo_pedagogico': processTextWithFormatting(`### ¬øCu√°l fue la "receta" de la intervenci√≥n?\nEl impacto positivo de nuestro estudio no fue producto de actividades aisladas, sino del dise√±o deliberado de un **modelo pedag√≥gico integrado**. Este modelo combin√≥ dos pilares te√≥ricos para crear una experiencia de aprendizaje transformadora.\n\n### Pilar 1: El "Aprender Haciendo" (Aprendizaje Experiencial de Kolb)\nNo quer√≠amos que los estudiantes solo *supieran sobre* el medio ambiente; quer√≠amos que lo *vivieran*. Estructuramos las 8 semanas de la intervenci√≥n siguiendo el ciclo de Kolb: **Experiencia Concreta** (salida al r√≠o Guabas), **Observaci√≥n Reflexiva** (debates y bit√°coras), **Conceptualizaci√≥n Abstracta** (sesiones te√≥ricas) y **Experimentaci√≥n Activa** (proyectos finales).\n\n### Pilar 2: El "Aprender Juntos" (Constructivismo Social de Vygotsky)\nCada fase del ciclo fue social y colaborativa. Usamos estrategias de andamiaje como debates y trabajo en equipo para que los estudiantes construyeran conocimiento juntos, moviliz√°ndolos a trav√©s de su **Zona de Desarrollo Pr√≥ximo**.\n\n### La Sinergia en Acci√≥n\nEste modelo demuestra que la educaci√≥n ambiental efectiva no es una conferencia, es una **experiencia guiada de construcci√≥n social**. Al articular el "hacer" con el "reflexionar juntos", la intervenci√≥n logr√≥ impactar las tres dimensiones de la conciencia ecol√≥gica.`)
        };

        // Mapa de relaciones entre conceptos
        const conceptRelations = {
            'epa': ['attitude_behavior_gap', 'control_group', 'environmental_education'],
            'attitude_behavior_gap': ['llave_rota', 'epa', 'barreras_estructurales', 'semirural_context'],
            'eca': ['falla_psicometrica', 'eca_original', 'internal-consistency', 'factor-analysis'],
            'quasi_experimental': ['experimental_group', 'control_group'],
            'experimental_group': ['quasi_experimental', 'curricular_integration'],
            'control_group': ['quasi_experimental', 'epa'],
            'curricular_integration': ['modelo_pedagogico', 'experimental_group'],
            'environmental_education': ['modelo_pedagogico', 'ecological_awareness'],
            'semirural_context': ['barreras_estructurales', 'attitude_behavior_gap'],
            'llave_rota': ['attitude_behavior_gap', 'barreras_estructurales', 'environmental_education'],
            'falla_psicometrica': ['eca', 'eca_original'],
            'barreras_estructurales': ['attitude_behavior_gap', 'semirural_context', 'curricular_integration'],
            'modelo_pedagogico': ['curricular_integration', 'environmental_education', 'epa', 'quasi_experimental']
        };

        const categoriesData = [
            { id: 'concepto', title: 'CONCEPTOS TE√ìRICOS', type: 'concepto' },
            { id: 'hallazgo', title: 'HALLAZGOS PRINCIPALES', type: 'hallazgo' },
            { id: 'instrumento', title: 'INSTRUMENTOS DE MEDICI√ìN', type: 'instrumento' },
            { id: 'metodolog√≠a', title: 'METODOLOG√çA DE INVESTIGACI√ìN', type: 'metodolog√≠a' },
            { id: 'intervenci√≥n', title: 'ESTRATEGIAS DE INTERVENCI√ìN', type: 'intervenci√≥n' },
            { id: 'enfoque', title: 'ENFOQUES PEDAG√ìGICOS', type: 'enfoque' },
            { id: 'contexto', title: 'CONTEXTO DE ESTUDIO', type: 'contexto' }
        ];

        // Variables globales
        let currentConceptIndex = 0;
        let allConcepts = [];
        let filteredConcepts = [];

        // Elementos DOM
        const categoriesContainer = document.getElementById('categoriesContainer');
        const conceptModal = document.getElementById('conceptModal');
        const modalConceptTitle = document.getElementById('modalConceptTitle');
        const modalConceptSubtitle = document.getElementById('modalConceptSubtitle');
        const modalHeaderBadges = document.getElementById('modalHeaderBadges');
        const modalConceptBody = document.getElementById('modalConceptBody');
        const closeModal = document.getElementById('closeModal');
        const conceptSearch = document.getElementById('conceptSearch');
        const noResults = document.getElementById('noResults');
        const modalLoading = document.getElementById('modalLoading');

        // Generar las tarjetas de categor√≠as
        function renderCategoryCards() {
            categoriesContainer.innerHTML = '';
            
            categoriesData.forEach(category => {
                const conceptsInCategory = Object.values(conceptData).filter(item => item.category === category.type);
                if (conceptsInCategory.length === 0) return;
                
                const card = document.createElement('div');
                card.className = `category-card ${category.type}`;
                
                let conceptsHTML = '';
                conceptsInCategory.forEach(concept => {
                    conceptsHTML += `
                        <li onclick="openConceptModal('${concept.id}')" data-searchable="${concept.title.toLowerCase()} ${concept.subtitle.toLowerCase()}">
                            <span class="concept-badge ${concept.category}">${concept.category.toUpperCase()}</span>
                            ${concept.title}
                        </li>
                    `;
                });
                
                card.innerHTML = `<h3>${category.title}</h3><ul class="concepts-list">${conceptsHTML}</ul>`;
                categoriesContainer.appendChild(card);
            });
            
            allConcepts = Object.values(conceptData);
            filteredConcepts = [...allConcepts];
        }

        // Abrir modal con informaci√≥n del concepto
        function openConceptModal(contentKey) {
            modalLoading.style.display = 'block';
            conceptModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            setTimeout(() => {
                const concept = conceptData[contentKey];
                const content = conceptContent[contentKey] || 'Contenido no disponible.';
                
                modalConceptTitle.textContent = concept.title;
                modalConceptSubtitle.textContent = concept.subtitle;
                
                currentConceptIndex = filteredConcepts.findIndex(c => c.id === contentKey);
                
                let headerBadgesHTML = `<span class="modal-concept-code">${concept.category.toUpperCase()}</span>`;
                modalHeaderBadges.innerHTML = headerBadgesHTML;
                
                let modalContent = '';
                const sections = content.split('### ');
                sections.slice(1).forEach(section => {
                    const lines = section.split('\n');
                    const title = lines[0].trim();
                    const body = lines.slice(1).join('\n').trim().replace(/\n/g, '<br>');
                    if (title && body) {
                        modalContent += `
                            <div class="info-section">
                                <h3>${title}</h3>
                                <div class="application-context"><p>${body}</p></div>
                            </div>
                        `;
                    }
                });
                
                modalConceptBody.innerHTML = modalContent;

                const relatedSection = document.createElement('div');
                relatedSection.className = 'info-section';
                relatedSection.style.display = 'none';
                
                const relations = conceptRelations[contentKey];
                if (relations && relations.length > 0) {
                    relatedSection.style.display = 'block';
                    let linksHTML = '<h3>Conectado con:</h3><div class="related-concepts-container">';
                    relations.forEach(relatedKey => {
                        const relatedConcept = conceptData[relatedKey];
                        if (relatedConcept) {
                            linksHTML += `<div class="related-link" onclick="openConceptModal('${relatedKey}')">${relatedConcept.title}</div>`;
                        }
                    });
                    linksHTML += '</div>';
                    relatedSection.innerHTML = linksHTML;
                    modalConceptBody.appendChild(relatedSection);
                }

                const navigationHTML = `
                    <div class="modal-navigation">
                        <button id="prevConcept" class="nav-btn" ${currentConceptIndex <= 0 ? 'disabled' : ''}>‚Üê Anterior</button>
                        <button id="nextConcept" class="nav-btn" ${currentConceptIndex >= filteredConcepts.length - 1 ? 'disabled' : ''}>Siguiente ‚Üí</button>
                    </div>
                `;
                modalConceptBody.insertAdjacentHTML('beforeend', navigationHTML);
                
                document.getElementById('prevConcept').addEventListener('click', navigateToPrevConcept);
                document.getElementById('nextConcept').addEventListener('click', navigateToNextConcept);
                
                modalLoading.style.display = 'none';
                closeModal.focus();
            }, 300);
        }
        
        function navigateToPrevConcept() {
            if (currentConceptIndex > 0) openConceptModal(filteredConcepts[currentConceptIndex - 1].id);
        }
        function navigateToNextConcept() {
            if (currentConceptIndex < filteredConcepts.length - 1) openConceptModal(filteredConcepts[currentConceptIndex + 1].id);
        }
        function closeConceptModal() {
            conceptModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function filterConcepts(searchTerm) {
            const lowerCaseSearchTerm = searchTerm.toLowerCase();
            let hasResults = false;
            
            document.querySelectorAll('.concepts-list li').forEach(conceptEl => {
                const isVisible = conceptEl.getAttribute('data-searchable').includes(lowerCaseSearchTerm);
                conceptEl.style.display = isVisible ? 'flex' : 'none';
                if (isVisible) hasResults = true;
            });

            filteredConcepts = allConcepts.filter(c => `${c.title.toLowerCase()} ${c.subtitle.toLowerCase()}`.includes(lowerCaseSearchTerm));
            noResults.style.display = hasResults || searchTerm === '' ? 'none' : 'block';
            categoriesContainer.style.display = hasResults || searchTerm === '' ? 'grid' : 'none';
        }

        function initKeyboardNavigation() {
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && conceptModal.style.display === 'block') closeConceptModal();
                if (conceptModal.style.display === 'block') {
                    if (event.key === 'ArrowLeft') navigateToPrevConcept();
                    else if (event.key === 'ArrowRight') navigateToNextConcept();
                }
            });
        }

        closeModal.addEventListener('click', closeConceptModal);
        conceptModal.addEventListener('click', e => { if (e.target === conceptModal) closeConceptModal(); });
        conceptSearch.addEventListener('input', e => filterConcepts(e.target.value));
        window.openConceptModal = openConceptModal;

        document.addEventListener('DOMContentLoaded', function() {
            renderCategoryCards();
            initKeyboardNavigation();
        });
    </script>
</body>
</html>